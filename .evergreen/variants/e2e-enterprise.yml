# Enterprise E2E Build Variants
# Build variants for MongoDB Enterprise Operator E2E tests with Ops Manager

buildvariants:
  ## Ops Manager 6.0 Build Variants ##

  - name: e2e_static_om60_kind_ubi
    display_name: e2e_static_om60_kind_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om6_dependency
    tasks:
      - name: e2e_static_operator_task_group

  - name: e2e_om60_kind_ubi
    display_name: e2e_om60_kind_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om6_dependency
    tasks:
      - name: e2e_operator_task_group

  - name: e2e_om60_appdb_kind_ubi
    display_name: e2e_om60_appdb_kind_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om6_dependency
    tasks:
      - name: e2e_multi_cluster_om_appdb_task_group

  ## Ops Manager 7.0 Build Variants ##

  - name: e2e_static_om70_kind_ubi
    display_name: e2e_static_om70_kind_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om7_dependency
    tasks:
      - name: e2e_static_operator_task_group

  - name: e2e_om70_kind_ubi
    display_name: e2e_om70_kind_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om7_dependency
    tasks:
      - name: e2e_operator_task_group

  - name: e2e_om70_appdb_kind_ubi
    display_name: e2e_om70_appdb_kind_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om7_dependency
    tasks:
      - name: e2e_multi_cluster_om_appdb_task_group

  ## Ops Manager 8.0 Build Variants ##

  - name: e2e_static_om80_kind_ubi
    display_name: e2e_static_om80_kind_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om8_dependency
    tasks:
      - name: e2e_static_operator_task_group

  - name: e2e_om80_kind_ubi
    display_name: e2e_om80_kind_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om8_dependency
    tasks:
      - name: e2e_operator_task_group

  - name: e2e_om80_appdb_kind_ubi
    display_name: e2e_om80_appdb_kind_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om8_dependency
    tasks:
      - name: e2e_multi_cluster_om_appdb_task_group

  ## OpenShift Build Variants ##

  - name: e2e_mdb_openshift_ubi_cloudqa
    display_name: e2e_mdb_openshift_ubi_cloudqa
    tags: [ "e2e_test_suite", "cloudqa" ]
    run_on:
      - ubuntu2204-large
    <<: *base_no_om_image_dependency
    tasks:
      - name: e2e_mdb_openshift_ubi_cloudqa_task_group

  ## OLM Build Variants ##

  - name: e2e_kind_olm_ubi
    display_name: e2e_kind_olm_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om7_dependency
    tasks:
      - name: e2e_kind_olm_group

  ## Performance Build Variants ##

  - name: e2e_operator_race_with_telemetry_kind_ubi
    display_name: e2e_operator_race_with_telemetry_kind_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om7_dependency
    tasks:
      - name: e2e_operator_race_with_telemetry_task_group

  ## Ops Manager Only Build Variants ##

  - name: e2e_ops_manager_kind_only_ubi
    display_name: e2e_ops_manager_kind_only_ubi
    tags: [ "e2e_test_suite" ]
    run_on:
      - ubuntu2204-large
    <<: *base_om7_dependency
    tasks:
      - name: e2e_ops_manager_kind_only_task_group
