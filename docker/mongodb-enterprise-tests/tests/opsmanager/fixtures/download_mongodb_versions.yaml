apiVersion: v1
kind: Pod
metadata:
  name: mongodb-downloader
spec:
  restartPolicy: Never
  volumes:
    - name: mongodb-versions
      persistentVolumeClaim:
        claimName: mongodb-versions-claim
  securityContext:
    fsGroup: 0
  containers:
    - name: rhel-downloader
      image: curlimages/curl:latest
      command:
        - curl
        - -L
        - https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-4.0.2.tgz
        - -o
        - /mongodb-ops-manager/mongodb-releases/mongodb-linux-x86_64-rhel70-4.0.2.tgz
      volumeMounts:
        - name: mongodb-versions
          mountPath: /mongodb-ops-manager/mongodb-releases
    - name: ubuntu-downloader
      image: curlimages/curl:latest
      command:
        - curl
        - -L
        - https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-ubuntu1604-4.0.2.tgz
        - -o
        - /mongodb-ops-manager/mongodb-releases/mongodb-linux-x86_64-ubuntu1604-4.0.2.tgz
      volumeMounts:
        - name: mongodb-versions
          mountPath: /mongodb-ops-manager/mongodb-releases
    - name: rhel-mongod-tools-downloader
      image: curlimages/curl:latest
      command:
        - curl
        - -L
        - https://fastdl.mongodb.org/tools/db/mongodb-database-tools-rhel70-x86_64-100.0.1.tgz
        - -o
        - /mongodb-ops-manager/mongodb-releases/mongodb-database-tools-rhel70-x86_64-100.0.1.tgz
      volumeMounts:
        - name: mongodb-versions
          mountPath: /mongodb-ops-manager/mongodb-releases
    - name: ubuntu-mongo-tools-downloader
      image: curlimages/curl:latest
      command:
        - curl
        - -L
        - https://fastdl.mongodb.org/tools/db/mongodb-database-tools-ubuntu1604-x86_64-100.0.1.tgz
        - -o
        - /mongodb-ops-manager/mongodb-releases/mongodb-database-tools-ubuntu1604-x86_64-100.0.1.tgz
      volumeMounts:
        - name: mongodb-versions
          mountPath: /mongodb-ops-manager/mongodb-releases