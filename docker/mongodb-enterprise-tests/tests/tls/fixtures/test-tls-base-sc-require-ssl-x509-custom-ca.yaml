---
apiVersion: mongodb.com/v1
kind: MongoDB
metadata:
  name: test-tls-base-sc-require-ssl
spec:
  shardCount: 1
  mongodsPerShardCount: 3
  mongosCount: 2
  configServerCount: 3
  version: 4.0.0
  type: ShardedCluster

  project: my-project
  credentials: my-credentials

  persistent: false
  security:
    clusterAuthenticationMode: x509
    tls:
      enabled: true
