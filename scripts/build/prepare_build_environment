#!/usr/bin/env bash

cd "$(git rev-parse --show-toplevel || echo "Failed to find git root"; exit 1)"

# Only installs 'dep' if not already installed
if [ ! "$(which dep)" ]; then
    mkdir -p "${GOBIN}"
    curl https://raw.githubusercontent.com/golang/dep/master/install.sh | sh
fi

dep ensure -v

## Generate code
scripts/build/codegen.sh

go version
