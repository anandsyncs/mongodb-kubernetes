export NAMESPACE=your-namespace # <UPDATE ME>
# absolute path to ops-manager-kubernetes dir
export PROJECT_DIR=/path/to/ops-manager-kubernetes # <UPDATE ME>
export AWS_ACCESS_KEY_ID=ABC... # <UPDATE ME>
export AWS_SECRET_ACCESS_KEY=e4af... # <UPDATE ME>
export CURRENT_NAMESPACE=evg-namespace # <UPDATE ME>
# repo used as OPERATOR_REGISTRY when not using local operator
export BASE_REPO_URL=268558157000.dkr.ecr.us-east-1.amazonaws.com/<your-ecr-registry> # <UPDATE ME>

# comment this or set to empty to use local kind clusters
# export EVG_HOST_NAME=""

# set to ubi or ubuntu
export IMAGE_TYPE=ubi
# set to true if using ubi images in ECR registry. Set to false if using ubi from quay.
export UBI_IMAGE_WITHOUT_SUFFIX=true
# set to true if running operator locally and not in a pod
export LOCAL_OPERATOR=true
# set to true for running cluster-wide operator
export OPERATOR_CLUSTER_SCOPED=${OPERATOR_CLUSTER_SCOPED:-false}
# by default watch only main NAMESPACE, set other watched namespaces for cluster-wide operator
export WATCH_NAMESPACE="${WATCH_NAMESPACE:-${NAMESPACE}}"
# set:
#   multi - for multicluster
#   kops  - for kops cluster
#   kind  - for local/evg kind clusters
export kube_environment_name=multi
export CLUSTER_TYPE="kind"

#
# changing variables below should not be necessary
#

# these are fixed when using scripts/dev/recreate_kind_clusters.sh
export CLUSTER_NAME=kind-e2e-operator # this has to be central-cluster
export test_pod_cluster=kind-e2e-cluster-1
export member_clusters="kind-e2e-cluster-1 kind-e2e-cluster-2 kind-e2e-cluster-3"

# when using EVG ec2 instance, we copy kubeconfig locally and use it
if [[ "${EVG_HOST_NAME:-}" != "" ]]; then
  export KUBECONFIG=~/.operator-dev/evg-host.kubeconfig
else
  export KUBECONFIG=~/.kube/config
fi

export central_cluster=${CLUSTER_NAME}
export MEMBER_CLUSTERS=${member_clusters}
export CENTRAL_CLUSTER=${central_cluster}
export MULTI_CLUSTER_CREATE_SERVICE_ACCOUNT_TOKEN_SECRETS=true
export MULTI_CLUSTER_CONFIG_DIR=${PROJECT_DIR}/.multi_cluster_local_test_files
export MULTI_CLUSTER_KUBE_CONFIG_CREATOR_PATH=${PROJECT_DIR}/docker/mongodb-enterprise-tests/multi-cluster-kube-config-creator

# override for /etc/config/kubeconfig file mounted in operator's pod
if [[ "${LOCAL_OPERATOR}" == "true" ]]; then
  export KUBE_CONFIG_PATH=$HOME/.operator-dev/multicluster_kubeconfig
  export PERFORM_FAILOVER=false
fi


export OPERATOR_ENV="dev"
export PROJECT_NAMESPACE=${NAMESPACE}
export OPERATOR_REGISTRY=${BASE_REPO_URL}/${IMAGE_TYPE}
export INIT_IMAGES_REGISTRY=${INIT_IMAGES_REGISTRY:-268558157000.dkr.ecr.us-east-1.amazonaws.com/dev/${IMAGE_TYPE}}

export QUAY_REGISTRY=quay.io/mongodb

export INIT_APPDB_REGISTRY=${INIT_IMAGES_REGISTRY}
export INIT_APPDB_VERSION=latest
export INIT_OPS_MANAGER_REGISTRY=${INIT_IMAGES_REGISTRY}
export INIT_OPS_MANAGER_VERSION=latest
export INIT_DATABASE_REGISTRY=${INIT_IMAGES_REGISTRY}
export INIT_DATABASE_VERSION=latest
export DATABASE_REGISTRY=${INIT_IMAGES_REGISTRY}
export DATABASE_VERSION=latest
export OPS_MANAGER_REGISTRY=${QUAY_REGISTRY}
export APPDB_REGISTRY=${QUAY_REGISTRY}
export MONGODB_ENTERPRISE_DATABASE_IMAGE="${INIT_IMAGES_REGISTRY}/mongodb-enterprise-database"
export INIT_DATABASE_IMAGE_REPOSITORY="${INIT_IMAGES_REGISTRY}/mongodb-enterprise-init-database"
export INIT_APPDB_IMAGE_REPOSITORY="${INIT_IMAGES_REGISTRY}/mongodb-enterprise-init-appdb"
export OPS_MANAGER_IMAGE_REPOSITORY="${INIT_IMAGES_REGISTRY}/mongodb-enterprise-ops-manager"

export agent_version=12.0.4.7554-1
# these are needed to deploy OM
export INIT_APPDB_IMAGE_REPOSITORY="${INIT_IMAGES_REGISTRY}/mongodb-enterprise-init-appdb"
export OPS_MANAGER_IMAGE_REPOSITORY="${QUAY_REGISTRY}/mongodb-enterprise-ops-manager"
export INIT_OPS_MANAGER_IMAGE_REPOSITORY=${INIT_IMAGES_REGISTRY}/mongodb-enterprise-init-ops-manager
export AGENT_IMAGE=quay.io/mongodb/mongodb-agent-ubi:${agent_version}
export MONGODB_IMAGE=mongodb-enterprise-appdb-database-ubi
export MONGODB_REPO_URL=quay.io/mongodb

# values from .evergreen.yml
export CUSTOM_OM_PREV_VERSION=5.0.1
export CUSTOM_MDB_VERSION=5.0.5
export CUSTOM_MDB_PREV_VERSION=5.0.1

# OM Credentials
export OM_HOST=https://cloud-qa.mongodb.com # <UPDATE ME>
export OM_BASE_URL=https://cloud-qa.mongodb.com # <UPDATE ME>
export OM_USER=dasdada # <UPDATE ME>
export OM_API_KEY=0321312-312312-321 # <UPDATE ME>
export OM_ORGID=63bec8638facb45e76c9cfe8 # <UPDATE ME>
